export function validateFormDataLive(formData) {
  const errors = {};

  const {
    depart,
    destination,
    date_depart,
    heure_depart,
    date_arrivee,
    heure_arrivee,
  } = formData;

  // Ville de départ ≠ destination
  if (
    depart &&
    destination &&
    depart.trim().toLowerCase() === destination.trim().toLowerCase()
  ) {
    errors.destination = "La ville d'arrivée doit être différente de la ville de départ.";
  }

  // Vérification temps (si tout est rempli)
  if (date_depart && heure_depart && date_arrivee && heure_arrivee) {
    const d1 = new Date(`${date_depart}T${heure_depart}`);
    const d2 = new Date(`${date_arrivee}T${heure_arrivee}`);

    const diff = d2 - d1;

    if (diff < 0) {
      errors.date_arrivee = "L'arrivée doit être après le départ.";
    } else if (diff > 24 * 60 * 60 * 1000) {
      errors.date_arrivee = "Le trajet ne doit pas dépasser 24h.";
    }
  }

  return errors;
}